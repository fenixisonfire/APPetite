<html>
  	<body onload="OnLoad.prototype.load('food')">
 		<div navbar-widget></div>
    	<div class="container" ng-show="ctrl.isSet('food')">
    		<div class="search-field">
      			<div class="input-group input-group-lg">

                    
                    
                    
                   
<!--                    <input class="form-control" ng-model="search" model="search" type="search" type="text" ng-model="selectedState" placeholder="Enter your food/drink search here">-->
             
                    <input class="form-control" type="search" ng-model="search" placeholder="Search...">
                    
  					<span class="input-group-btn">
    					<button class="btn btn-default" type="button" id="searchButton">
    						<span class="glyphicon glyphicon-search"></span>
    					</button>
  					</span>
                </div>

                
                <div class="panel" ng-show="search.2">
                     <ul class="nav nav-tabs nav-stacked scroll">
                        <li role="presentation" ng-repeat="item in ctrl.items | filter:search">
                            <a ng-click = ctrl.itemSelect(item)>{{ item.foodname }} {{ item.edibleproportion }}kg</a>
                         </li>    
                    </ul>
                </div>
                
                
                
                
                
		    	<div class="btn-group btn-group-justified" style="padding-top:10px;" role="group" aria-label="...">
  					<div class="btn-group" role="group">
    					<a type="button" class="btn btn-default" data-toggle="modal" 
    						data-target="#modalInfo" id="newFood" ng-click="ctrl.setTab('new')">New food
    					</a>
  					</div>
  					<div class="btn-group" role="group">
    					<a type="button" class="btn btn-default" data-toggle="modal" 
    						data-target="#modalInfo" id="myMeals" ng-click="ctrl.setTab('meals')">Saved meals
    						<span class="badge" id="mealCounter"></span>
    					</a>
  					</div>
 				</div>
			</div>
			<div class="panel panel-default element-margin">
  				<div class="panel-heading">
	  				<div class="row">
	  					<div class="col-xs-6">
	  						<span>Selected food</span>
	  					</div>
	  					<div class="col-xs-6" align="right">
                            
	  						<button type="button" class="btn btn-xs btn-info" ng-click="ctrl.saveSelected()">Save this meal</button>
                            <button type="button" class="btn btn-xs btn-delete" ng-click="ctrl.clear()">Clear All</button>
        
	  					</div>
	  				</div>
  				</div>
				<div class="panel-body selection-body">
                    
                    
                    <ul class="nav nav-tabs nav-stacked scroll">
                        <li role="presentation" ng-repeat="item in ctrl.selected">
                            <button class="btn btn-default" ng-click="ctrl.itemSelect(item)">{{ item.quantity }}</button>
                            <span class="list-group">{{ item.foodname }}</span>
                            <span>{{ item.edibleproportion }}kg</span>
                         </li>    
                    </ul>         
                    
				</div>
			</div>
			<div class="panel panel-default">
				<div class="panel-heading collapsed" href="#breakDown" aria-expanded="true" 
					data-toggle="collapse" aria-controls="breakDown">Nutritional breakdown
				</div>
  				<div class="panel-body panel-collapse collapse in" role="tabpanel" id="breakDown">
  					<table class="table">
  						<thead>
  							<tr>
  								<th>Calories (kcal)</th>
  								<th>Protein (g)</th>
  								<th>Fluid (ml)</th>
  							</tr>
  						</thead>
  						<tbody>
			  				<tr>
				  				<td id="calories">{{ ctrl.caltotal }}</td>
				  				<td id="protein">{{ ctrl.prototal }}</td>
				  				<td id="fluid">{{ ctrl.flutotal }}</td>
			  				</tr>
		  				</tbody>
  					</table>
  				</div>
			</div>
		    <div id="Session">
		    	<button class="btn btn-lg btn-success btn-block" id="btn_submit_foods" ng-click="ctrl.submitSelected()">Submit</button> 
		    </div>
    	</div>

  			<div class="modal-dialog" ng-show="ctrl.isSet('new')">
    			<div class="modal-content">
      				<div class="modal-header">
        				<button type="button" class="close" data-dismiss="modal">
        					
        					<span class="sr-only">Close</span>
        				</button>
        				<h4 class="modal-title" id="modal-info-title">New Food</h4>
      				</div>
      				<div class="modal-body" id="modal-info-body">
                    
                        <table class="register-table">
                            <tr>
                                <td><input ng-model="ctrl.newfood.foodname" name ="name" class="form-control" type="text" placeholder="Food name"></td>
                            </tr>
                            <tr>
                                <td><input ng-model="ctrl.newfood.edibleproportion" name ="weight" class="form-control" type="number" placeholder="Weight of food in kg"></td>
                            </tr>
                            <tr>
                                <td><input ng-model="ctrl.newfood.energy_kcal" name ="calories" class="form-control" type="number" placeholder="Calories (kcal)"></td>
                            </tr>
                            <tr>
                                <td><input ng-model="ctrl.newfood.protein_g" name ="protein" class="form-control" type="number" placeholder="Protien (g)"></td>
                            </tr>
                            <tr>
                                <td><input ng-model="ctrl.newfood.water_g" name ="fluid" class="form-control" type="number" placeholder="Fluid (ml)"></td>
                            </tr>
                            <tr>
                                <td><input ng-model="ctrl.newfood.fat_g" name ="fluid" class="form-control" type="number" placeholder="Fat (g)"></td>
                            </tr>
                        </table> 
                    
                    </div>
      				<div class="modal-footer" id="modal-info-footer">
      				
      				<a type="button" class="modal-button btn btn-success" ng-click="ctrl.submitNewFood()">Done</a>
      				
      				</div>
    			</div>
  			</div>
        
        
        
        
        
        

        
            <div class="modal-dialog" ng-show="ctrl.isSet('meals')">
    			<div class="modal-content">
      				<div class="modal-header">
        				<button type="button" class="close" data-dismiss="modal">
        					
        					<span class="sr-only">Close</span>
        				</button>
        				<h4 class="modal-title" id="modal-info-title">Saved Meals</h4>
      				</div>
      				<div class="modal-body" id="modal-info-body">
                        <ul class="nav nav-tabs nav-stacked scroll">
                            <li role="presentation" ng-repeat="item in ctrl.meals">
                                <div><button class="btn btn-default">{{ item.quantity }}</button><a ng-click="ctrl.itemSelect(item)"> <div>{{ item.edibleproportion }}kg of {{ item.foodname }}</a> from your meal saved <label>{{ item.datetime.date }}</label></div>
                            </li>    
                        </ul>
                    </div>
      				<div class="modal-footer" id="modal-info-footer">
      				
      				<a type="button" class="modal-button btn btn-success" id="" data-dismiss="modal" ng-click="ctrl.setTab('food')">Done</a>
      				
      				</div>
    			</div>
  			</div>
        
        
        
        
        
        

  			<div class="modal-dialog" ng-show="ctrl.isSet('date')">
    			<div class="modal-content">
      				<div class="modal-header">
        				<button type="button" class="close" data-dismiss="modal">
        					
        					<span class="sr-only">Close</span>
        				</button>
        				<h4 class="modal-title">Date&Time</h4>
      				</div>
      				<div class="modal-body">
      						<form class="modal-form">
      						<input type="text" id="Date" class="form-control date" placeholder="Date" readonly="readonly" style="cursor :default">
      						<input type="text" id="Time" class="form-control time" placeholder="Time" readonly="readonly" style="cursor :default">
      						</form>
      				</div>
      				<div class="modal-footer">
        				<a type="button" class="btn btn-success" data-dismiss="modal" ng-click="ctrl.setTab('food')">Done</a>
      				</div>
    			</div>
  			</div>
		
  	</body>
<html>